<!-- 
  File: views/index.ejs
  Author: Yusra Ashar
  Description: Home page with book search functionality.
               Displays a search bar and dynamically loads books 
               from the Google Books API using client-side JavaScript.
-->
               
<!-- HTML Boilerplate -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shelf Life</title>

  <!-- Link to your custom stylesheet -->
  <link rel="stylesheet" href="/style.css">

  <!-- Bootstrap for responsive styling -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>

  <!-- Navbar with conditional links depending on login status -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">Shelf Life</a>

      <!-- If user is logged in -->
      <% if (isLoggedIn) { %>
        <a class="nav-link text-white" href="/profile">My Profile</a>
        <a class="nav-link text-white" href="/logout">Logout</a>

      <!-- If user is not logged in -->
      <% } else { %>
        <a class="nav-link text-white" href="/login">Login</a>
        <a class="nav-link text-white" href="/signup">Signup</a>
      <% } %>
    </div>
  </nav>

  <!-- Main content: Search bar and results -->
  <div class="container mt-4">
    <h1 class="text-center">Find Your Next Favorite Book</h1>

    <!-- Book search form -->
    <form id="searchForm" class="d-flex justify-content-center my-4">
      <input type="text" id="searchInput" class="form-control w-50 me-2" placeholder="Enter book title" required>
      <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <!-- Results will be displayed dynamically here -->
    <div id="results" class="row"></div>
  </div>

  <!-- Connects to your search.js script for interactivity -->
  <script src="/search.js"></script>
</body>
</html>